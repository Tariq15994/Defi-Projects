{"ast":null,"code":"import _asyncToGenerator from\"/home/tariq/Defi-Projects/nft-market-place/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tariq/Defi-Projects/nft-market-place/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/tariq/Defi-Projects/nft-market-place/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import Navigation from'./Navbar';import Home from'./Home.js';import Create from'./Create.js';import MyListedItems from'./MyListedItems.js';import MyPurchases from'./MyPurchases.js';import MarketplaceAbi from'../contractsData/Marketplace.json';import MarketplaceAddress from'../contractsData/Marketplace-address.json';import NFTAbi from'../contractsData/NFT.json';import NFTAddress from'../contractsData/NFT-address.json';import{useState}from'react';import{ethers}from\"ethers\";import{Spinner}from'react-bootstrap';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),nft=_useState6[0],setNFT=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),marketplace=_useState8[0],setMarketplace=_useState8[1];// MetaMask Login/Connect\nvar web3Handler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var accounts,provider,signer;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return window.ethereum.request({method:'eth_requestAccounts'});case 2:accounts=_context2.sent;setAccount(accounts[0]);// Get provider from Metamask\nprovider=new ethers.providers.Web3Provider(window.ethereum);// Set signer\nsigner=provider.getSigner();window.ethereum.on('chainChanged',function(chainId){window.location.reload();});window.ethereum.on('accountsChanged',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(accounts){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setAccount(accounts[0]);_context.next=3;return web3Handler();case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());loadContracts(signer);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function web3Handler(){return _ref.apply(this,arguments);};}();var loadContracts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(signer){var marketplace,nft;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// Get deployed copies of contracts\nmarketplace=new ethers.Contract(MarketplaceAddress.address,MarketplaceAbi.abi,signer);setMarketplace(marketplace);nft=new ethers.Contract(NFTAddress.address,NFTAbi.abi,signer);setNFT(nft);setLoading(false);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function loadContracts(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Navigation,{web3Handler:web3Handler,account:account})}),/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'180vh'},children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",style:{display:'flex',color:'White'}}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-3 my-0 \",style:{color:'White',fontWeight:'bold',fontFamily:'Poppins, sans-serif'},children:\"Awaiting Metamask Connection...\"})]}):/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{marketplace:marketplace,nft:nft})}),/*#__PURE__*/_jsx(Route,{path:\"/create\",element:/*#__PURE__*/_jsx(Create,{marketplace:marketplace,nft:nft})}),/*#__PURE__*/_jsx(Route,{path:\"/my-listed-items\",element:/*#__PURE__*/_jsx(MyListedItems,{marketplace:marketplace,nft:nft,account:account})}),/*#__PURE__*/_jsx(Route,{path:\"/my-purchases\",element:/*#__PURE__*/_jsx(MyPurchases,{marketplace:marketplace,nft:nft,account:account})})]})})]})});}export default App;","map":{"version":3,"sources":["/home/tariq/Defi-Projects/nft-market-place/frontend/src/components/App.js"],"names":["BrowserRouter","Routes","Route","Navigation","Home","Create","MyListedItems","MyPurchases","MarketplaceAbi","MarketplaceAddress","NFTAbi","NFTAddress","useState","ethers","Spinner","App","loading","setLoading","account","setAccount","nft","setNFT","marketplace","setMarketplace","web3Handler","window","ethereum","request","method","accounts","provider","providers","Web3Provider","signer","getSigner","on","chainId","location","reload","loadContracts","Contract","address","abi","display","justifyContent","alignItems","minHeight","color","fontWeight","fontFamily"],"mappings":"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","sourcesContent":["import {\n  BrowserRouter,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport Navigation from './Navbar';\nimport Home from './Home.js'\nimport Create from './Create.js'\nimport MyListedItems from './MyListedItems.js'\nimport MyPurchases from './MyPurchases.js'\nimport MarketplaceAbi from '../contractsData/Marketplace.json'\nimport MarketplaceAddress from '../contractsData/Marketplace-address.json'\nimport NFTAbi from '../contractsData/NFT.json'\nimport NFTAddress from '../contractsData/NFT-address.json'\nimport { useState } from 'react'\nimport { ethers } from \"ethers\"\nimport { Spinner } from 'react-bootstrap'\n\nimport './App.css';\n\nfunction App() {\n  const [loading, setLoading] = useState(true)\n  const [account, setAccount] = useState(null)\n  const [nft, setNFT] = useState({})\n  const [marketplace, setMarketplace] = useState({})\n  // MetaMask Login/Connect\n  const web3Handler = async () => {\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    setAccount(accounts[0])\n    // Get provider from Metamask\n    const provider = new ethers.providers.Web3Provider(window.ethereum)\n    // Set signer\n    const signer = provider.getSigner()\n\n    window.ethereum.on('chainChanged', (chainId) => {\n      window.location.reload();\n    })\n\n    window.ethereum.on('accountsChanged', async function (accounts) {\n      setAccount(accounts[0])\n      await web3Handler()\n    })\n    loadContracts(signer)\n  }\n  const loadContracts = async (signer) => {\n    // Get deployed copies of contracts\n    const marketplace = new ethers.Contract(MarketplaceAddress.address, MarketplaceAbi.abi, signer)\n    setMarketplace(marketplace)\n    const nft = new ethers.Contract(NFTAddress.address, NFTAbi.abi, signer)\n    setNFT(nft)\n    setLoading(false)\n  }\n\n  return (\n    <BrowserRouter >\n      <div className=\"App\">\n        <>\n          <Navigation web3Handler={web3Handler} account={account} />\n        </>\n        <div>\n          {loading ? (\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '180vh' }}>\n              <Spinner animation=\"border\" style={{ display: 'flex', color: 'White'}} />\n              <p className='mx-3 my-0 ' style={ {color: 'White',fontWeight:'bold' ,fontFamily:'Poppins, sans-serif' }}>Awaiting Metamask Connection...</p>\n            </div>\n          ) : (\n            <Routes>\n              <Route path=\"/\" element={\n                <Home marketplace={marketplace} nft={nft} />\n              } />\n              <Route path=\"/create\" element={\n                <Create marketplace={marketplace} nft={nft} />\n              } />\n              <Route path=\"/my-listed-items\" element={\n                <MyListedItems marketplace={marketplace} nft={nft} account={account} />\n              } />\n              <Route path=\"/my-purchases\" element={\n                <MyPurchases marketplace={marketplace} nft={nft} account={account} />\n              } />\n            </Routes>\n          )}\n        </div>\n      </div>\n    </BrowserRouter>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}